
// Khai báo dữ liệu 

let sp1 = { masp: 1, hang: "GUCCI", hinhanh: 'image/Gucci-Diana-small-tote-bag-black-1.jpg', tensp: "Tui Gucci Diana Small Tote Bag Black", soluong: 1, dongia: "8.709.000VNĐ", mota: 'Gucci Diana Small Tote Bag Black là một tác phẩm thời trang độc đáo, mang đến sự kết hợp tinh tế giữa vẻ đẹp cổ điển và sự hiện đại. Với màu đen bí ẩn, chiếc túi tote này không chỉ là một phụ kiện thời trang mà còn là biểu tượng của sự thanh lịch và cá tính.' }
let sp2 = { masp: 2, hang: "GUCCI", hinhanh: 'image/Gucci-Diana-Small-Tote-Bag-blue-1.jpg', tensp: "Tui Gucci Diana Small Tote Bag Blue", soluong: 1, dongia: "369.000VNĐ", mota: '.' }
let sp3 = { masp: 3, hang: "GUCCI", hinhanh: 'image/Gucci-Diana-small-tote-bag-brown-1.jpg', tensp: "Tui Gucci Diana Small Tote Bag Brown", soluong: 1, dongia: "1.229.000VNĐ", mota: 'Tinh chất chứa chiết xuất từ vỏ quýt Hallabong chăm sóc các nhược điểm trên da và giúp da thêm căng mịn và sáng ngời! Dẫn xuất vitamin B3 cung cấp chăm sóc sắc tố melanin chuyên sâu. Dẫn xuất vitamin C và dẫn xuất vitamin B5 chăm sóc cho làn da khỏe mạnh. Axit hyaluronic cung cấp độ ẩm.' }
let sp4 = { masp: 4, hang: "CHANEL", hinhanh: 'image/chanel-19-handbag-light-pink-1-300x300.jpg', tensp: "Tui canel handbag light pink", soluong: 1, dongia: "359.000VNĐ", mota: 'Chiếc túi Chanel 19 Bag Brown thuộc dòng sản phẩm túi chanel 19 đến từ thương hiệu Chanel. Đây chính là một trong những bom tấn đình đám của nhà mốt này. Với thiết kế đẹp đến say đắm túi xách Chanel luôn là những sản phẩm “hot hit” nhất mọi thời đại. Tiếp tục là thiết kế cổ điển với điểm nhấn là chốt khóa logo 2 chữ CC đan vào nhau túi xách chanel 19 toát lên một vẻ đẹp cực kỳ cuốn hút, làm nao lòng các tín đồ thời trang trên thế giới..' }
let sp5 = { masp: 5, hang: "CHANEL", hinhanh: 'image/CHANEL-19-SHOPPING-BAG-1-300x300.jpg', tensp: "Tui chanel handbag light pink", soluong: 1, dongia: "289.000.00VNĐ", mota: 'Chiếc túi Chanel 19 Bag Brown thuộc dòng sản phẩm túi chanel 19 đến từ thương hiệu Chanel. Đây chính là một trong những bom tấn đình đám của nhà mốt này. Với thiết kế đẹp đến say đắm túi xách Chanel luôn là những sản phẩm “hot hit” nhất mọi thời đại. Tiếp tục là thiết kế cổ điển với điểm nhấn là chốt khóa logo 2 chữ CC đan vào nhau túi xách chanel 19 toát lên một vẻ đẹp cực kỳ cuốn hút, làm nao lòng các tín đồ thời trang trên thế giới.' }
let sp6 = { masp: 6, hang: "CHANEL", hinhanh: 'image/tui-chanel-19-bag-Brown-1-300x300 (1).jpg', tensp: "Tui chanel handbag light pink", soluong: 1, dongia: "269.000.000NĐ", mota: 'Chiếc túi Chanel 19 Bag Brown thuộc dòng sản phẩm túi chanel 19 đến từ thương hiệu Chanel. Đây chính là một trong những bom tấn đình đám của nhà mốt này. Với thiết kế đẹp đến say đắm túi xách Chanel luôn là những sản phẩm “hot hit” nhất mọi thời đại. Tiếp tục là thiết kế cổ điển với điểm nhấn là chốt khóa logo 2 chữ CC đan vào nhau túi xách chanel 19 toát lên một vẻ đẹp cực kỳ cuốn hút, làm nao lòng các tín đồ thời trang trên thế giới.' }
let sp7 = { masp: 7, hang: "DIOR", hinhanh: 'image/dior-30-montaigne-Bag-Blue-Dior-Oblique-Jacquard-1-300x300.jpg', tensp: "Túi Dior 30 Montaigne Bag Blue Dior Oblique Jacquard", soluong: 1, dongia: "169.000.000VNĐ", mota: 'Là một chiếc túi xách thuộc dòng sản phẩm dior 30 montaigne, túi xách nữ Dior 30 Montaigne Bag Blue Dior Oblique Jacquard đã đốn tim của nhiều chị em phụ nữ từ những ngày đầu tiên ra mắt. Được lấy cảm hứng từ kiến trúc tòa nhà lịch sử của thương hiệu Dior nằm tại vị trí 30 đại lộ Montaigne, thủ đô Paris, Pháp đội ngũ thiết kế Dior đã cho ra một mẫu thiết kế mang đậm tinh thần đương đại. Sở hữu cấu trúc hình hộp chữ nhật chắc chắn, chiếc túi xách dior này mang đúng thông điệp nữ quyền mà thương hiệu túi Dior muốn truyền tải. Họa tiết Oblique thổ cẩm chữ D in chìm lấy cảm hứng từ chiếc túi Dior Saddle đình đám trước đó được rất nhiều chị em ưa thích bởi vẻ đẹp cổ điển không kém phần retro quyến rũ mà nó mang lại..' }
let sp8 = { masp: 8, hang: "DIOR", hinhanh: 'image/Dior-30-Montaigne-bag-full-black-1-300x300.jpg', tensp: "Túi Dior 30 Montaigne Box Bag Full Black"
, soluong: 1, dongia: "2.000.000VNĐ", mota: 'Là một chiếc túi xách thuộc dòng sản phẩm dior 30 montaigne, túi xách nữ Dior 30 Montaigne Bag Blue Dior Oblique Jacquard đã đốn tim của nhiều chị em phụ nữ từ những ngày đầu tiên ra mắt. Được lấy cảm hứng từ kiến trúc tòa nhà lịch sử của thương hiệu Dior nằm tại vị trí 30 đại lộ Montaigne, thủ đô Paris, Pháp đội ngũ thiết kế Dior đã cho ra một mẫu thiết kế mang đậm tinh thần đương đại. Sở hữu cấu trúc hình hộp chữ nhật chắc chắn, chiếc túi xách dior này mang đúng thông điệp nữ quyền mà thương hiệu túi Dior muốn truyền tải. Họa tiết Oblique thổ cẩm chữ D in chìm lấy cảm hứng từ chiếc túi Dior Saddle đình đám trước đó được rất nhiều chị em ưa thích bởi vẻ đẹp cổ điển không kém phần retro quyến rũ mà nó mang lại.' }
let sp9 = { masp: 9, hang: "DIOR", hinhanh: 'image/Dior-30-Montaigne-box-bag-white-1-300x300.jpg', tensp: "Túi Dior 30 Montaigne Box Bag Full Black", soluong: 1, dongia: "299.000.000VNĐ", mota: 'Là một chiếc túi xách thuộc dòng sản phẩm dior 30 montaigne, túi xách nữ Dior 30 Montaigne Bag Blue Dior Oblique Jacquard đã đốn tim của nhiều chị em phụ nữ từ những ngày đầu tiên ra mắt. Được lấy cảm hứng từ kiến trúc tòa nhà lịch sử của thương hiệu Dior nằm tại vị trí 30 đại lộ Montaigne, thủ đô Paris, Pháp đội ngũ thiết kế Dior đã cho ra một mẫu thiết kế mang đậm tinh thần đương đại. Sở hữu cấu trúc hình hộp chữ nhật chắc chắn, chiếc túi xách dior này mang đúng thông điệp nữ quyền mà thương hiệu túi Dior muốn truyền tải. Họa tiết Oblique thổ cẩm chữ D in chìm lấy cảm hứng từ chiếc túi Dior Saddle đình đám trước đó được rất nhiều chị em ưa thích bởi vẻ đẹp cổ điển không kém phần retro quyến rũ mà nó mang lại.' }
let dssp = [sp1, sp2, sp3, sp4, sp5, sp6, sp7, sp8, sp9]

let spm1 = { masp: 1, loai: "Tui GUCCI ATTACHE SMALL SHOULDE ", hinhanh: "image/Gucci-Attache-Small-Shoulder-Bag-In-White-Leather-1.jpg", ngaythang: "15/03/2024", tensp: "Tui Gucci Bag in White Leader 1", mota: " Là một chiếc túi xách thuộc dòng sản phẩm dior 30 montaigne, túi xách nữ Dior 30 Montaigne Bag Blue Dior Oblique Jacquard đã đốn tim của nhiều chị em phụ nữ từ những ngày đầu tiên ra mắt. Được lấy cảm hứng từ kiến trúc tòa nhà lịch sử của thương hiệu Dior nằm tại vị trí 30 đại lộ Montaigne, thủ đô Paris, Pháp đội ngũ thiết kế Dior đã cho ra một mẫu thiết kế mang đậm tinh thần đương đại. Sở hữu cấu trúc hình hộp chữ nhật chắc chắn, chiếc túi xách dior này mang đúng thông điệp nữ quyền mà thương hiệu túi Dior muốn truyền tải. Họa tiết Oblique thổ cẩm chữ D in chìm lấy cảm hứng từ chiếc túi Dior Saddle đình đám trước đó được rất nhiều chị em ưa thích bởi vẻ đẹp cổ điển không kém phần retro quyến rũ mà nó mang lại...", dongia: "269.000.000vnđ" }
let spm2 = { masp: 2, loai: "Tui Chanel", hinhanh: "image/tui-chanel-19-bag-Brown-1-300x300.jpg", ngaythang: "20/03/2024", tensp: "Túi Chanel 19 Bag Brown", mota: "Là một chiếc túi xách thuộc dòng sản phẩm dior 30 montaigne, túi xách nữ Dior 30 Montaigne Bag Blue Dior Oblique Jacquard đã đốn tim của nhiều chị em phụ nữ từ những ngày đầu tiên ra mắt. Được lấy cảm hứng từ kiến trúc tòa nhà lịch sử của thương hiệu Dior nằm tại vị trí 30 đại lộ Montaigne, thủ đô Paris, Pháp đội ngũ thiết kế Dior ..", dongia: "Giá: 9.000.000vnđ" }
let spm3 = { masp: 3, loai: "TUI DIOR ", hinhanh: "image/30-montaigne-chain-bag-with-handle-bag-1-300x300.jpg", ngaythang: "12/03/2024", tensp: "Túi Dior Hand Bag 1", mota: ".", dongia: "Giá: 139.000.00vnđ" }
let dsspMoi = [spm1, spm2, spm3]


let tk1={id: 0, name: "Nguyễn Văn A", email: "a@gmail.com", birthday: "16-11-2003", username: "nguyenvana", password: "123456", address: "123 nguyen xi ", telephone: "0852606710"}
let dsstk=[tk1]
// Array --> Json
// Lưu dữ liệu vào localStorage
localStorage.setItem("dssp", JSON.stringify(dssp))
localStorage.setItem("dsspm", JSON.stringify(dsspMoi))
localStorage.setItem("dsstk", JSON.stringify(dsstk))
localStorage.setItem("masp", 1)
localStorage.setItem("maspm", 1)

// Lấy dữ liệu từ loCalStorage
let ds = JSON.parse(localStorage.getItem("dssp"))
let dsspm = JSON.parse(localStorage.getItem("dsspm"))

let dstk = JSON.parse(localStorage.getItem("dsstk"))

// let dem=0
let demso = 0
let makhachang = 0

// Hàm hiển thị giao diện web


function hienthigiaodien() {
    let header = `<div class="container">
        <div class="row">
            <div class="col-sm-2">
                <div class="mangxh float-sm-left text-xs-center text-sm-left">
                    <a href="https://www.facebook.com"><i class="fa fa-facebook"></i></a>
                </div>
                <div class="ins" style="margin-top: 1px;">
                    <a href="https://www.instagram.com"><i class="fa fa-instagram" style="color: white;"></i></a>
                </div>
                
            </div>

            <div class="col-sm-3">
                <div class="search">
                    <input type="search" placeholder="Search for products" style="width: 280px; height: 30px; background-color: white; color: black;">
                    <button class="btn btn-primary" style="background-color: white; color: black; margin-bottom:3px; font-size:10px; border-radius: 0;" onclick="search()">Search</button>
                </div>
            </div>
            <div class="col-sm-1">
                <button class="btn btn-primary" style="background-color: white; color: black; margin-bottom:3px; font-size:10px; border-radius: 0;" onclick="search()">Tìm kiếm</button>
            </div>
            <div class="col-sm-6">
                <div class="lienhe openingtop float-sm-right text-sm-left text-xs-center">
                    Thời gian mở cửa: 8:00 - 22:00
                </div>
                <div class="lienhe telephone float-sm-right text-sm-left text-xs-center">
                    HotLine: 0852606710
                </div>
            </div>
        </div>
    </div>`;

    $(".search").css("position", "relative");
    $(".search").append('<div class="search-icon"><i class="fa fa-search"></i></div>');
    $(".search-icon").css({
        "position": "absolute",
        "top": "50%",
        "right": "10px",
        "transform": "translateY(-50%)",
        "color": "gray",
        "cursor": "pointer"
    });

    $(".search-icon").click(function() {
        $(".search input").focus();
    });

    $(".search input").on("input", function() {
        if ($(this).val() !== "") {
            $(".search-icon").css("color", "black");
        } else {
            $(".search-icon").css("color", "gray");
        }
    });
    
    let menu = `<nav class="navbar navbar-light bg-faded fontroboto">
        <div class="container">
            <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#mtren"></button>
            <div class="collapse navbar-toggleable-xs" id="mtren">
                <a class="navbar-brand text-xs-center text-sm-left" href="index.html">
                    <a href="index.html" style="text-decoration: none">
                        <div style="display: flex; justify-content: center; align-items: center;">
                            <img src="image/logo.png" alt="" style="margin-top: 10px; width: 150px; height: 100px;">
                            <h1 style="color: rgb(255, 110, 80); padding-top: 40px">Kn-TuiXachXin</h1>
                        </div>
                    </a>
                </a>
                <ul class="nav navbar-nav float-sm-right">
                    <li class="nav-item active">
                        <a class="nav-link" href="index.html">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="danhsach.html">Các sản phẩm hiện có </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Gucci.html">Gucci</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Chanel.html">Chanel</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Dior.html">Dior</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="news.html">Thông tin</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="gioithieu.html">Giới thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sitemap.html">Site Map</a>
                    </li>
                    <li class="nav-item dangnhap">
                        <a class="nav-link btn btn-success" id="dangky">Đăng nhập/Đăng ký</a>
                    </li>
                    <li class="nav-item cart">
                        <a href="giohang.html" class="nav-link"><i class="fa fa-shopping-cart"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>`;
    
    let footer = `<div class="container">
        <div class="row">
            <div class="col-sm-3 cot1">
                <h1>KN-TUIXACHXIN</h1>
                <div class="motdong">
                    <i class="fa fa-paper-plane-o"></i>
                    <span class="textmotdong">Địa chỉ: 123/22 nguyen xi</span>
                </div>
                <div class="motdong">
                    <i class="fa fa-phone"></i>
                    <span class="textmotdong">Số điện thoại: 0852606710</span>
                </div>
                <div class="motdong">
                    <i class="fa fa-envelope-o"></i>
                    <span class="textmotdong">Email: ninhtrinh@gmail.com</span>
                </div>
            </div>
            <div class="col-sm-3 cot3">
                <h2 class="tdfooter">HỖ TRỢ THANH TOÁN</h2>
                <ul>
                    <li>
                        <p><i class="fa fa-cc-mastercard mr-2"></i>MasterCard</p>
                    </li>
                    <li>
                        <p><i class="fa fa-cc-visa mr-2"></i>Visa</p>
                    </li>
                    <li>
                        <p><i class="fa fa-credit-card mr-2"></i>Thẻ tín dụng</p>
                    </li>
                    <li>
                        <p><i class="fa fa-money mr-2"></i>Tiền mặt</p>
                    </li>
                </ul>
            </div>
            <div class="col-sm-3 cot4">
                <h2 class="tdfooter">Opening Hours</h2>
                <div class="opening1">
                    <div class="phai float-xs-right">8:00am - 22:00pm</div>
                    <div class="trai">Everyday</div>
                </div>
            </div>
        </div>
    </div>`;
    
    let modal = `
    <style>
     
    
      /* Modal content styling */
      .modal-content {
        border-radius: 15px;
      }
    
      /* Modal header styling */
      .modal-header {
        background-color: green; /* Primary color */
        color: #fff; /* White text */
        text-align: center;
        padding: 20px 0;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
      }
    
      /* Modal body styling */
      .modal-body {
        padding: 20px;
      }
    
      /* Text input styling */
      .form-control {
        border-radius: 5px;
        border: 1px solid #ced4da; /* Light gray border */
      }
    
      /* Submit button styling */
      #dangnhap {
        background-color: green; /* Orange color */
        border: none;
        border-radius: 5px;
        color: #fff; /* White text */
        padding: 7px;
        cursor: pointer;
      }
    
      /* Error message styling */
      .text-danger {
        font-size: 14px;
        color: red;
      }
    
      /* Link styling */
      .modal-body a {
        color: #007bff; /* Primary color */
      }
    </style>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header fontdancing tieude1">
                <h2>Đăng nhập</h2>
            </div>
            <div class="modal-body">
                <form class="login100-form validate-form">
                    <div class="form-group">
                        <label for="checkusername">Tên đăng nhập:</label>
                        <input type="text" class="form-control" id="checkusername">
                        <div>
                            <span id="errorcheckusername" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="checkpassword">Mật khẩu:</label>
                        <input type="password" class="form-control" id="checkpassword">
                        <div>
                            <span id="errorcheckpassword" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-primary btn-block" id="dangnhap">ĐĂNG NHẬP</button>
                    </div>
                    <div class="form-group text-center">
                        <p>Chưa có tài khoản? <a href="signup.html">Đăng ký ngay</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>`;
    
    
    $("#header").append(header);
    $("#menu").append(menu);
    $("#footer").append(footer);
    $("#myModal").append(modal);
}


function search() {
    let searchInput = document.querySelector('input[type="search"]').value.toLowerCase();
    let searchResults = ds.filter(item => item.tensp.toLowerCase().includes(searchInput));
    localStorage.setItem("searchResults", JSON.stringify(searchResults));
    window.location.href = "timkiemsanpham.html";
}


// Hàm lưu mã Sp và localStorage
function setMasp(masp) {
    localStorage.setItem("masp", masp)
}
function setMaspm(masp) {
    localStorage.setItem("maspm", masp)
}


function hienthiDSSP(sp) {
    let temp = `
        <div class="col-sm-4">
            <div class="motspchuan">
                <a href="chitietsanpham.html" class="duoi" onclick="setMasp(${sp.masp})">
                    <img src="${sp.hinhanh}" alt="">
                    <p class="price_prod">
                        <span class="price">${sp.dongia}</span>
                    </p>
                    <span>${sp.tensp}</span>
                </a>
            </div>
        </div>
    `;

    $("#danhsachsanpham").append(temp);
}
    
// Hàm hiển thị chi tiết sản phẩm
function hienthichitietsanpham() {
    let masp = localStorage.getItem("masp");
    let sp = ds.find(sp => sp.masp == masp);
    let temp = "<div class='col-sm-8 produc_img'>" +
        "<div class='row'>" +
        "<div class='col-sm-6'>" +
        "<img src='" + sp.hinhanh + "' alt=''>" +
        "</div>" +
        "<div class='col-sm-6'>" +
        "<div class='detail_tren' style='margin-top: 50px;'>" +
        "<b class='ten'>Chi tiết sản phẩm:</b>" +
        "<br>" +
        "<p class='ten'>" + sp.mota + "</p>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "<div class='col-sm-4 product_detail' style='margin-top: 30px;'>" +
        "<div class='tensp'>" +
        "<div class='detail_duoi'>" +
        "Thương hiệu: <span>" + sp.hang + "</span>" +
        "</div>" +
        "<div class='detail_duoi'>" +
        "Năm sản xuất: <span>" + sp.namsx + "</span>" +
        "</div>" +
        "<div class='detail_tren'>" +
        "<b class='ten'>" + sp.tensp + "</b>" +
        "<br>" +
        "<p class='ten'>" + sp.dongia + "</p>" +
        "</div>" +
        "<div class='quantity'>" +
        "<label for='quantity'>Số lượng:</label>" +
        "<input type='number' id='quantity' name='quantity' min='1' value='1'>" +
        "</div>" +
        "</div>" +
        "<div class='btn-group mt-2'>" +
        "<a href='giohang.html' class=' btn btn-warning' id='themvaogiohang'>Thêm vào giỏ hàng</a>" +
        "<a href='thanhtoan.html' class=' btn btn-success' id='muangay'>Mua Ngay</a>" +
        "</div>" +
        "</div>";

    $("#chitietsanpham").append(temp);
    chuyendulieu();
}


// Hàm chuyển dữ liệu
function chuyendulieu() {
    let masp = localStorage.getItem("masp")
    let sp = ds.find(sp => sp.masp == masp)
    let spmua = { hinhanh: sp.hinhanh, tensp: sp.tensp, dongia: sp.dongia, hang: sp.hang, dongia: sp.dongia }
    localStorage.setItem("sanphamduocmua", JSON.stringify(spmua))
}

// Hàm hiển thị giỏ hàng
function hienthisanphamduocmua() {

    let spduocmua = JSON.parse(localStorage.getItem("sanphamduocmua"))

    let temp = "<tr class='cart-item' id='remove'>" +
        "<td class='product-thumbnail'>" + "<img src='" + spduocmua.hinhanh + "' alt='' width='100' height='100'>" + "</td>" +
        "<td class='product-name'>" + spduocmua.tensp + "</td>" +
        "<td class='product-price'>" + spduocmua.dongia + "</td>" +
        "<td class='product-size'>" + spduocmua.hang + "</td>" +
        " <td class='product-remove'>" + "<a href='#' id='click' >" + "<i class='fa fa-times'>" + "</i>" + "</a>" + "</td>" +
        "</tr>"


    let thongtinnguoimua = "<h2 style='font-size:25px; padding-bottom: 20px;'>Thông tin khách hàng</h2>" +
        "<form>" +
        "<div class='form-group'>" +
        "<label for=''>Họ tên</label>" +
        " <input type='text' class='form-control' value='" + dstk[makhachang].name + "' >	" +
        " </div>" +
        " </form>" +
        " <form>" +
        "  <div class='form-group' >" +
        "  <label for=''>Email</label>" +
        "   <input type='email' class='form-control' value='" + dstk[makhachang].email + "' >" +
        "   </div>" +
        "  </form>" +
        " <form>" +
        "     <div class='form-group'>" +
        "   <label for=''>Số điện thoại</label>" +
        " <input type='tel' class='form-control' value='" + dstk[makhachang].telephone + "'>" +

        "  </div>" +
        "  </form>" +
        " <form>" +
        " <div class='form-group'>" +
        " <label for=''>Địa chỉ</label>" +
        " <input type='text' class='form-control' value='" + dstk[makhachang].address + "'>" +

        " </div>" +
        " </form>"


    $("#danhsachmua").append(temp)
    $("#hienthithongtinnguoimua").append(thongtinnguoimua)

    $("#tamtinh").html(spduocmua.dongia)
    $("#phivanchuyen").html("Miễn Phí")
    $("#tongcong").html(spduocmua.dongia)
}




// Hàm hiển thị các sản phẩm ở home 
function hienthicacsanpham(sp) {

    let temp = "<div class='col-xs-12 col-sm-6 col-md-4 motsp " + sp.class + "'>" +
        "<div class='row'> " +
        "<div class='col-xs-6 col-sm-5'>" +
        "<div class='anhsp'>" +
        "<div class='tagnew'>" + "NEW" + "</div>" +
        "<img src='" + sp.hinhanh + "' alt='' class='img-fluid'>" +
        "</div>" +

        "</div>" +
        "<div class='col-xs-6 col-sm-7'>" +
        "<div class='tensp'>" +
        "<div class='tren'>" +
        "<p class='ten'>" + "<a href='chitietsanpham.html' onclick='setMasp(" + sp.masp + ")''>" + "Sản phẩm " + sp.masp + "" + "</a>" + "</p>" +
        "</div>" +
        "<div class='duoi'>" + sp.hang + "</div>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "</div>"

    $("#danhsach").append(temp)

}
// Hàm hiển thị sản phẩm từng loại
function HienThiDanhSachTungLoaiSanPham(sp) {
    let temp1 = `
        <ul class="pagination justify-content-center bg-light">
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1">Về trước</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
                <a class="page-link" href="#">Tiếp theo</a>
            </li>
        </ul>
    `;

    for (let i = 0; i < 9; i++) {
        let temp = `
            <div class="col-sm-4">
                <div class="motspchuan">
                    <a href="chitietsanpham.html" class="duoi" onclick="setMasp(${sp[i].masp})">
                        <img src="${sp[i].hinhanh}" alt="">
                        <p class="price_prod">
                            <span class="price">${sp[i].dongia}<i>VNĐ</i></span>
                        </p>
                        <span>${sp[i].tensp}</span>
                    </a>
                </div>
            </div>
        `;

        if (i < 3) {
            $("#danhsachgucci").append(temp);
            if (i == 2) $("#xemthemgucci").append(temp1);
        } else if (i >= 3 && i < 6) {
            $("#danhsachchanel").append(temp);
            if (i == 5) $("#xemthemchanel").append(temp1);
        } else {
            $("#danhsachdior").append(temp);
            if (i == 8) $("#xemthemdior").append(temp1);
        }
    }
}

// Hàm hiển thị các sản phẩm sắp cập nhật ở home

function HienThiDanhSachSanPhamSapRaMat(spm) {
    let temp = `
        <div class="col-md-4">
            <div class="card mottintuc">
                <img src="${spm.hinhanh}" class="card-img-top sp_ramat" alt="...">
                <div class="card-body">
                    <p class="ngaythang"> <span class="vang">COMMING SOON</span></p>
                    <p class="fontroboto">${spm.loai}</p>
                    <div class="abc">
                        <a href="chitietsanphamsapcapnhat.html" class="btn btn-warning readmore" onclick="setMaspm(${spm.masp})">Xem ngay</a>
                    </div>
                </div>
            </div>
        </div>
    `;
    $("#danhsachSPM").append(temp);
}


// Hàm hiển thị các sản phẩm sắp ra mắt
function HienThiSanPhamSapRaMat() {
    let masp = localStorage.getItem("maspm")
    let sp = dsspm.find(sp => sp.masp == masp)
    let temp = "<div class='tinchitiet'>" +
        "<div class='container'>" +
        "<img src='" + sp.hinhanh + "' style='width: 600px; height: 300px;' alt=''>" +
        "<div class='ngaythang'>" + sp.ngaythang + " trên" + "<span class='vang'>" + "ninhtrinh744@gmail.com" + "</span>" + "</div>" +
        "<h2 class='fontroboto ten' style='font-weight: 900'>" + sp.tensp + "</h2>" +
        "<p>" + sp.mota + "</p>" +

        " <h3>" + sp.dongia + "</h3> " +
        " </div>  " +
        "</div>"
    $("#sanphammoi").append(temp)
}
//Hiển thị modal đăng nhập
function HienThiModalDangNhap() {
    $("#myModal").modal()
}

// Kiểm tra đăng nhập
function kiemtrataikhoandangnhap() {
    let checkusername = $("#checkusername").val()

    if (checkusername.trim() == '') {
        $("#errorcheckusername").html("Tên đăng nhập không được để trống")
        return false
    }

    for (let i = 0; i < demso + 1; i++) {
        if (checkusername != dstk[i].username) {
            $("#errorcheckusername").html("Tên đăng nhập không tồn tại")
            return false
        }

    }

    $("#errorcheckusername").html("")
    return true

}



function kiemtramatkhaudangnhap() {

    let checkusername = $("#checkusername").val()
    let checkpassword = $("#checkpassword").val()

    if (checkpassword.trim() == "") {
        $("#errorcheckpassword").html("Mật khẩu không được để trống")
        return false
    }
    for (let i = 0; i < demso + 1; i++) {
        if (checkusername == dstk[i].username) {
            if (checkpassword == dstk[i].password) {
                $("#errorcheckpassword").html("")
                makhachhang = dstk[i].id
                return true
            }


        }

        $("#errorcheckpassword").html("Mật khẩu không đúng")

        return false

    }
}






$(document).ready(function () {
    hienthigiaodien()
    hienthichitietsanpham()
    HienThiSanPhamSapRaMat()
    HienThiDanhSachTungLoaiSanPham(ds)
    $("#muahang").click(hienthisanphamduocmua())

    $("#dangky").click(function () {
        $("#myModal").modal()
    })
    $("#checkusername").blur(kiemtrataikhoandangnhap)
    $("#checkpassword").blur(kiemtramatkhaudangnhap)
    $("#dangnhap").click(function () {
        if (!kiemtrataikhoandangnhap() || !kiemtramatkhaudangnhap()) {

            return false
        }

        $("#myModal").modal("hide")
        alert("Đăng nhập thành công")
        window.location = "index.html"
        return true
    })


    $("#dangnhaptaikhoan").click(function () {

        $("#myModal").modal("show")


    })

})